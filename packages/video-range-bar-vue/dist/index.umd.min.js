!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = t())
    : 'function' == typeof define && define.amd
    ? define(t)
    : ((e =
        'undefined' != typeof globalThis
          ? globalThis
          : e || self).videoRangeBarVue = t());
})(this, function () {
  'use strict';
  function e(e, t) {
    var i = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var n = Object.getOwnPropertySymbols(e);
      t &&
        (n = n.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        i.push.apply(i, n);
    }
    return i;
  }
  function t(t) {
    for (var n = 1; arguments.length > n; n++) {
      var r = null != arguments[n] ? arguments[n] : {};
      n % 2
        ? e(Object(r), !0).forEach(function (e) {
            i(t, e, r[e]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r))
        : e(Object(r)).forEach(function (e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e));
          });
    }
    return t;
  }
  function i(e, t, i) {
    return (
      t in e
        ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (e[t] = i),
      e
    );
  }
  function n(e, t) {
    for (var i = 0; t.length > i; i++) {
      var n = t[i];
      (n.enumerable = n.enumerable || !1),
        (n.configurable = !0),
        'value' in n && (n.writable = !0),
        Object.defineProperty(e, n.key, n);
    }
  }
  !(function (e, t) {
    void 0 === t && (t = {});
    var i = t.insertAt;
    if (e && 'undefined' != typeof document) {
      var n = document.head || document.getElementsByTagName('head')[0],
        r = document.createElement('style');
      (r.type = 'text/css'),
        'top' === i && n.firstChild
          ? n.insertBefore(r, n.firstChild)
          : n.appendChild(r),
        r.styleSheet
          ? (r.styleSheet.cssText = e)
          : r.appendChild(document.createTextNode(e));
    }
  })(
    ".video-range-bar {\n  position: relative;\n  width: 100%;\n}\n.video-range-bar .video-range-bar-right,\n.video-range-bar .video-range-bar-left {\n  z-index: 20;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background: #2d8cf0;\n  height: 100%;\n  cursor: ew-resize;\n}\n.video-range-bar .video-range-bar-right::before,\n.video-range-bar .video-range-bar-left::before,\n.video-range-bar .video-range-bar-right::after,\n.video-range-bar .video-range-bar-left::after {\n  display: inline-block;\n  content: '';\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 1px;\n  height: 30%;\n  background: #fff;\n}\n.video-range-bar .video-range-bar-right::before,\n.video-range-bar .video-range-bar-left::before {\n  left: calc(50% - 2px);\n}\n.video-range-bar .video-range-bar-right::after,\n.video-range-bar .video-range-bar-left::after {\n  left: calc(50% + 2px);\n}\n.video-range-bar .video-range-bar-right {\n  transform: translateX(50%);\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.video-range-bar .video-range-bar-left {\n  transform: translateX(-50%);\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.video-range-bar .video-range-bar-content {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  box-sizing: border-box;\n  border-top: 2px solid;\n  border-bottom: 2px solid;\n  background: transparent;\n}\n",
  );
  var r = (function () {
    function e(t) {
      !(function (e, t) {
        if (!(e instanceof t))
          throw new TypeError('Cannot call a class as a function');
      })(this, e),
        (this.el = void 0),
        (this.background = void 0),
        (this.height = void 0),
        (this.width = 0),
        (this.left = 0),
        (this.right = 0),
        (this.sliderOffsetLeft = void 0),
        (this.sliderOffsetRight = void 0),
        (this.sliderWidth = void 0),
        (this.theme = void 0),
        (this.moveType = 0),
        (this.sliderLeftBar = void 0),
        (this.sliderRightBar = void 0),
        (this.contentBar = void 0),
        (this.startLeftSlider = void 0),
        (this.startRightSlider = void 0),
        (this.moveLeftSlider = void 0),
        (this.moveRightSlider = void 0);
      var i = t.id,
        n = t.height,
        r = void 0 === n ? 40 : n,
        o = t.sliderWidth,
        s = void 0 === o ? 14 : o,
        d = t.sliderOffsetLeft,
        a = void 0 === d ? 0 : d,
        c = t.sliderOffsetRight,
        f = void 0 === c ? 0 : c,
        h = t.theme,
        l = void 0 === h ? '#2d8cf0' : h,
        u = t.background,
        v = void 0 === u ? 'transparent' : u,
        g = t.startLeftSlider,
        p = void 0 === g ? function () {} : g,
        b = t.startRightSlider,
        m = void 0 === b ? function () {} : b,
        y = t.moveLeftSlider,
        O = void 0 === y ? function () {} : y,
        R = t.moveRightSlider,
        x = void 0 === R ? function () {} : R,
        L = t.el || (i && document.getElementById(i));
      if (!(L instanceof HTMLElement))
        throw Error(
          '[VideoRangeBar] element should be an instance of HTMLElement',
        );
      (this.el = L),
        (this.height = r),
        (this.sliderOffsetLeft = a),
        (this.sliderOffsetRight = f),
        (this.sliderWidth = s),
        (this.theme = l),
        (this.background = v),
        (this.startLeftSlider = p),
        (this.startRightSlider = m),
        (this.moveLeftSlider = O),
        (this.moveRightSlider = x),
        this.createTemplate();
      var w = L.querySelector('.video-range-bar-left'),
        S = L.querySelector('.video-range-bar-right'),
        E = L.querySelector('.video-range-bar-content');
      (this.sliderRightBar = S),
        (this.sliderLeftBar = w),
        (this.contentBar = E),
        this.addEventListener(),
        this.getBoundingClientRect();
    }
    var t, i, r;
    return (
      (t = e),
      (i = [
        {
          key: 'createTemplate',
          value: function () {
            var e = this.theme,
              t = this.sliderOffsetLeft,
              i = this.sliderOffsetRight,
              n = this.sliderWidth,
              r = this.background,
              o = this.el,
              s = '<div class="video-range-bar" style="height:'
                .concat(this.height, 'px;background:')
                .concat(
                  r,
                  '">\n                        <div  class="video-range-bar-left" style="left:',
                )
                .concat(t, 'px;width:')
                .concat(n, 'px;background:')
                .concat(
                  e,
                  '"></div>\n                        <div class="video-range-bar-content"  style="left:',
                )
                .concat(t, 'px;right: ')
                .concat(i, 'px;border-color:')
                .concat(
                  e,
                  '"></div>\n                        <div class="video-range-bar-right" style="right:',
                )
                .concat(i, 'px;width:')
                .concat(n, 'px;background:')
                .concat(e, '"></div>\n                      </div>');
            o.innerHTML = s;
          },
        },
        {
          key: 'start',
          value: function (e) {
            this.moveType = e;
            var t = this.sliderOffsetRight,
              i = this.width;
            1 == e && this.startLeftSlider(this.sliderOffsetLeft / i),
              2 == e && this.startRightSlider((i - t) / i);
          },
        },
        {
          key: 'end',
          value: function () {
            0 !== this.moveType && (this.moveType = 0);
          },
        },
        {
          key: 'move',
          value: function (e) {
            var t = 'touches' in e ? e.touches[0].clientX : e.clientX,
              i = this.sliderRightBar,
              n = this.sliderWidth,
              r = this.sliderLeftBar,
              o = this.width,
              s = this.contentBar,
              d = t - this.left,
              a = o - this.sliderOffsetRight - n / 2,
              c = this.right - t,
              f = o - this.sliderOffsetLeft - n / 2;
            switch (this.moveType) {
              case 0:
                return;
              case 1:
                d > 0
                  ? d > a
                    ? ((r.style.left = ''.concat(a, 'px')),
                      (s.style.left = ''.concat(a, 'px')),
                      (this.sliderOffsetLeft = a))
                    : ((r.style.left = ''.concat(d, 'px')),
                      (s.style.left = ''.concat(d, 'px')),
                      (this.sliderOffsetLeft = d))
                  : ((r.style.left = '0px'),
                    (s.style.left = '0px'),
                    (this.sliderOffsetLeft = 0)),
                  this.moveLeftSlider(this.sliderOffsetLeft / o);
                break;
              case 2:
                c > 0
                  ? c > f
                    ? ((i.style.right = ''.concat(f, 'px')),
                      (s.style.right = ''.concat(f, 'px')),
                      (this.sliderOffsetRight = f))
                    : ((i.style.right = ''.concat(c, 'px')),
                      (s.style.right = ''.concat(c, 'px')),
                      (this.sliderOffsetRight = c))
                  : ((i.style.right = '0px'),
                    (s.style.right = '0px'),
                    (this.sliderOffsetRight = 0)),
                  this.moveRightSlider((o - this.sliderOffsetRight) / o);
            }
          },
        },
        {
          key: 'addEventListener',
          value: function () {
            var e = this.sliderLeftBar,
              t = this.sliderRightBar,
              i = this;
            document.addEventListener('resize', function () {
              i.getBoundingClientRect();
            }),
              'ontouchstart' in document
                ? (e.addEventListener(
                    'touchstart',
                    function () {
                      i.start(1);
                    },
                    !1,
                  ),
                  t.addEventListener(
                    'touchstart',
                    function () {
                      i.start(2);
                    },
                    !1,
                  ),
                  document.addEventListener(
                    'touchmove',
                    function (e) {
                      i.move(e);
                    },
                    !1,
                  ),
                  document.addEventListener(
                    'touchend',
                    function () {
                      i.end();
                    },
                    !1,
                  ))
                : (e.addEventListener(
                    'mousedown',
                    function () {
                      i.start(1);
                    },
                    !1,
                  ),
                  t.addEventListener(
                    'mousedown',
                    function () {
                      i.start(2);
                    },
                    !1,
                  ),
                  document.addEventListener(
                    'mousemove',
                    function (e) {
                      i.move(e);
                    },
                    !1,
                  ),
                  document.addEventListener(
                    'mouseup',
                    function () {
                      i.end();
                    },
                    !1,
                  ));
          },
        },
        {
          key: 'getBoundingClientRect',
          value: function () {
            var e = this.el.getBoundingClientRect(),
              t = e.right,
              i = e.width;
            (this.left = e.left), (this.right = t), (this.width = i);
          },
        },
      ]) && n(t.prototype, i),
      r && n(t, r),
      e
    );
  })();
  function o(e, t, i, n, r, o, s, d, a, c) {
    'boolean' != typeof s && ((a = d), (d = s), (s = !1));
    const f = 'function' == typeof i ? i.options : i;
    let h;
    if (
      (e &&
        e.render &&
        ((f.render = e.render),
        (f.staticRenderFns = e.staticRenderFns),
        (f._compiled = !0),
        r && (f.functional = !0)),
      n && (f._scopeId = n),
      o
        ? ((h = function (e) {
            (e =
              e ||
              (this.$vnode && this.$vnode.ssrContext) ||
              (this.parent &&
                this.parent.$vnode &&
                this.parent.$vnode.ssrContext)) ||
              'undefined' == typeof __VUE_SSR_CONTEXT__ ||
              (e = __VUE_SSR_CONTEXT__),
              t && t.call(this, a(e)),
              e && e._registeredComponents && e._registeredComponents.add(o);
          }),
          (f._ssrRegister = h))
        : t &&
          (h = s
            ? function (e) {
                t.call(this, c(e, this.$root.$options.shadowRoot));
              }
            : function (e) {
                t.call(this, d(e));
              }),
      h)
    )
      if (f.functional) {
        const e = f.render;
        f.render = function (t, i) {
          return h.call(i), e(t, i);
        };
      } else {
        const e = f.beforeCreate;
        f.beforeCreate = e ? [].concat(e, h) : [h];
      }
    return i;
  }
  const s = {
    name: 'VideoRangeBar',
    props: {
      config: {
        type: Object,
        default: function () {
          return {};
        },
      },
    },
    videoRangeBar: null,
    mounted: function () {
      this.instance();
    },
    methods: {
      instance: function () {
        this.videoRangeBar = new r(
          t(t({}, this.config), {}, { el: this.$refs.videoRange }),
        );
      },
    },
  };
  var d = function () {
    return (this._self._c || this.$createElement)('div', { ref: 'videoRange' });
  };
  d._withStripped = !0;
  const a = o(
    { render: d, staticRenderFns: [] },
    undefined,
    s,
    undefined,
    false,
    undefined,
    !1,
    void 0,
    void 0,
    void 0,
  );
  return (
    (a.install = function (e) {
      var t =
        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
      e.component(t.name ? t.name : a.name, a);
    }),
    'undefined' != typeof window && window.Vue && window.Vue.use(a),
    a
  );
});
