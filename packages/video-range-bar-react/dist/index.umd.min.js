!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = t(require('react')))
    : 'function' == typeof define && define.amd
    ? define(['react'], t)
    : ((e =
        'undefined' != typeof globalThis
          ? globalThis
          : e || self).videoRangeBarReact = t(e.React));
})(this, function (e) {
  'use strict';
  function t(e) {
    return e && 'object' == typeof e && 'default' in e ? e : { default: e };
  }
  var i = t(e);
  function n(e, t) {
    var i = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var n = Object.getOwnPropertySymbols(e);
      t &&
        (n = n.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        i.push.apply(i, n);
    }
    return i;
  }
  function r(e) {
    for (var t = 1; arguments.length > t; t++) {
      var i = null != arguments[t] ? arguments[t] : {};
      t % 2
        ? n(Object(i), !0).forEach(function (t) {
            o(e, t, i[t]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i))
        : n(Object(i)).forEach(function (t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));
          });
    }
    return e;
  }
  function o(e, t, i) {
    return (
      t in e
        ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (e[t] = i),
      e
    );
  }
  function s(e, t) {
    for (var i = 0; t.length > i; i++) {
      var n = t[i];
      (n.enumerable = n.enumerable || !1),
        (n.configurable = !0),
        'value' in n && (n.writable = !0),
        Object.defineProperty(e, n.key, n);
    }
  }
  !(function (e, t) {
    void 0 === t && (t = {});
    var i = t.insertAt;
    if (e && 'undefined' != typeof document) {
      var n = document.head || document.getElementsByTagName('head')[0],
        r = document.createElement('style');
      (r.type = 'text/css'),
        'top' === i && n.firstChild
          ? n.insertBefore(r, n.firstChild)
          : n.appendChild(r),
        r.styleSheet
          ? (r.styleSheet.cssText = e)
          : r.appendChild(document.createTextNode(e));
    }
  })(
    ".video-range-bar {\n  position: relative;\n  width: 100%;\n}\n.video-range-bar .video-range-bar-right,\n.video-range-bar .video-range-bar-left {\n  z-index: 20;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background: #2d8cf0;\n  height: 100%;\n  cursor: ew-resize;\n}\n.video-range-bar .video-range-bar-right::before,\n.video-range-bar .video-range-bar-left::before,\n.video-range-bar .video-range-bar-right::after,\n.video-range-bar .video-range-bar-left::after {\n  display: inline-block;\n  content: '';\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 1px;\n  height: 30%;\n  background: #fff;\n}\n.video-range-bar .video-range-bar-right::before,\n.video-range-bar .video-range-bar-left::before {\n  left: calc(50% - 2px);\n}\n.video-range-bar .video-range-bar-right::after,\n.video-range-bar .video-range-bar-left::after {\n  left: calc(50% + 2px);\n}\n.video-range-bar .video-range-bar-right {\n  transform: translateX(50%);\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.video-range-bar .video-range-bar-left {\n  transform: translateX(-50%);\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.video-range-bar .video-range-bar-content {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADBklEQVR4Xu3dW24CMRBEUVgT+18Ca0qUDyQeYiQz7dSYPvkOdnf1pcqeIHI++WmtwLl195o/AaA5BAAAQHMFmrfPAQDQXIHm7XMAADRXoHn7HAAAzRVo3j4HAEBzBZq3zwEA0FyB5u1zAAA0V6B5+xwAAM0VaN4+BwBAcwWat88BANBcgebtcwAA9FLger3+bHV8uVxavSlaNfs3eAA84g+AJzvgAF+eCByAAzgD3DEgAkTAl3v+U3siQASIABHw3vXcAr48EUSACBABIkAE3BRwDXQN/PLQdw3cHDAH4AAc4F4B18AwD7OvaauvXz2ew0XA6gOaXT8Adn5iZ/aAZq8PAACUMiACim8BHGAnn7MFXH39nfK+vJwDcIBqpvatt/o7dHb9+9R9ffWwA8xu0PrbI67WBwCLRQAAml8DAQCA0g+0iAARMHaurLag592t7xBYanEA2wZKBIgAEVD5gZDVIowDcAAOwAEGGFjN4hwCHQIfFADwIxDOAM4AA/7/D1+y5B3qQZAHQRsMVL9BRIAIEAGugQMMVFuQa9qA+BPOYCJABGQJ5ABZ/TkAB8gSyAGy+nMADpAlkANk9ecAHCBLIAfI6s8BOECWQA6Q1Z8DcIAsgRwgqz8H4ABjBM7+bX9tnK3w4/rDDjC7PADMVhgAS3/krBoPDrDYGQAAzb8gAgAAKGVABIiAUqB2L+YWsFvCoQUO5wBD1X/wy7MB+6Ck6EsAUBwB0Wl+sDkAAPABNgu/RAQc/EngbLYAAICpj4JnA1y9vjOAM0A1U8deTwSIABFwx4AIEAHHtuzq6kSACBABIuC9r/jn0dWee7D1RIAIEAEiQATcFGh3DTxYIsXLAUB8BNkCAJDVP747AOIjyBYAgKz+8d0BEB9BtgAAZPWP7w6A+AiyBQAgq398dwDER5AtAABZ/eO7AyA+gmwBAMjqH98dAPERZAsAQFb/+O4AiI8gWwAAsvrHdwdAfATZAgCQ1T++OwDiI8gWAICs/vHdARAfQbYAAGT1j+8OgPgIsgX8AkpQwK4+lS2yAAAAAElFTkSuQmCC') center repeat-x;\n  box-sizing: border-box;\n  border-top: 2px solid;\n  border-bottom: 2px solid;\n  background: transparent;\n}\n",
  );
  var a = (function () {
    function e(t) {
      !(function (e, t) {
        if (!(e instanceof t))
          throw new TypeError('Cannot call a class as a function');
      })(this, e),
        (this.el = void 0),
        (this.background = void 0),
        (this.height = void 0),
        (this.width = 0),
        (this.left = 0),
        (this.right = 0),
        (this.sliderOffsetLeft = void 0),
        (this.sliderOffsetRight = void 0),
        (this.sliderWidth = void 0),
        (this.theme = void 0),
        (this.moveType = 0),
        (this.sliderLeftBar = void 0),
        (this.sliderRightBar = void 0),
        (this.contentBar = void 0),
        (this.startLeftSlider = void 0),
        (this.startRightSlider = void 0),
        (this.moveLeftSlider = void 0),
        (this.moveRightSlider = void 0);
      var i = t.id,
        n = t.height,
        r = void 0 === n ? 40 : n,
        o = t.sliderWidth,
        s = void 0 === o ? 14 : o,
        a = t.sliderOffsetLeft,
        d = void 0 === a ? 0 : a,
        c = t.sliderOffsetRight,
        f = void 0 === c ? 0 : c,
        l = t.theme,
        h = void 0 === l ? '#2d8cf0' : l,
        A = t.background,
        g = void 0 === A ? 'transparent' : A,
        v = t.startLeftSlider,
        u = void 0 === v ? function () {} : v,
        b = t.startRightSlider,
        p = void 0 === b ? function () {} : b,
        m = t.moveLeftSlider,
        B = void 0 === m ? function () {} : m,
        y = t.moveRightSlider,
        w = void 0 === y ? function () {} : y,
        O = t.el || (i && document.getElementById(i));
      if (!(O instanceof HTMLElement))
        throw Error(
          '[VideoRangeBar] element should be an instance of HTMLElement',
        );
      (this.el = O),
        (this.height = r),
        (this.sliderOffsetLeft = d),
        (this.sliderOffsetRight = f),
        (this.sliderWidth = s),
        (this.theme = h),
        (this.background = g),
        (this.startLeftSlider = u),
        (this.startRightSlider = p),
        (this.moveLeftSlider = B),
        (this.moveRightSlider = w),
        this.createTemplate();
      var R = O.querySelector('.video-range-bar-left'),
        L = O.querySelector('.video-range-bar-right'),
        x = O.querySelector('.video-range-bar-content');
      (this.sliderRightBar = L),
        (this.sliderLeftBar = R),
        (this.contentBar = x),
        this.addEventListener(),
        this.getBoundingClientRect();
    }
    var t, i, n;
    return (
      (t = e),
      (i = [
        {
          key: 'createTemplate',
          value: function () {
            var e = this.theme,
              t = this.sliderOffsetLeft,
              i = this.sliderOffsetRight,
              n = this.sliderWidth,
              r = this.background,
              o = this.el,
              s = '<div class="video-range-bar" style="height:'
                .concat(this.height, 'px;background:')
                .concat(
                  r,
                  '">\n                        <div  class="video-range-bar-left" style="left:',
                )
                .concat(t, 'px;width:')
                .concat(n, 'px;background:')
                .concat(
                  e,
                  '"></div>\n                        <div class="video-range-bar-content"  style="left:',
                )
                .concat(t, 'px;right: ')
                .concat(i, 'px;border-color:')
                .concat(
                  e,
                  '"></div>\n                        <div class="video-range-bar-right" style="right:',
                )
                .concat(i, 'px;width:')
                .concat(n, 'px;background:')
                .concat(e, '"></div>\n                      </div>');
            o.innerHTML = s;
          },
        },
        {
          key: 'start',
          value: function (e, t) {
            e.stopPropagation(), (this.moveType = t);
            var i = this.sliderOffsetLeft,
              n = this.width;
            1 != t
              ? 2 != t ||
                this.startRightSlider((n - this.sliderOffsetRight) / n)
              : this.startLeftSlider(i / n);
          },
        },
        {
          key: 'end',
          value: function () {
            0 !== this.moveType && (this.moveType = 0);
          },
        },
        {
          key: 'move',
          value: function (e) {
            var t = 'touches' in e ? e.touches[0].clientX : e.clientX,
              i = this.sliderRightBar,
              n = this.sliderWidth,
              r = this.sliderLeftBar,
              o = this.width,
              s = this.contentBar,
              a = t - this.left,
              d = o - this.sliderOffsetRight - n / 2,
              c = this.right - t,
              f = o - this.sliderOffsetLeft - n / 2;
            switch (this.moveType) {
              case 0:
                return;
              case 1:
                a > 0
                  ? a > d
                    ? ((r.style.left = ''.concat(d, 'px')),
                      (s.style.left = ''.concat(d, 'px')),
                      (this.sliderOffsetLeft = d))
                    : ((r.style.left = ''.concat(a, 'px')),
                      (s.style.left = ''.concat(a, 'px')),
                      (this.sliderOffsetLeft = a))
                  : ((r.style.left = '0px'),
                    (s.style.left = '0px'),
                    (this.sliderOffsetLeft = 0)),
                  this.moveLeftSlider(this.sliderOffsetLeft / o);
                break;
              case 2:
                c > 0
                  ? c > f
                    ? ((i.style.right = ''.concat(f, 'px')),
                      (s.style.right = ''.concat(f, 'px')),
                      (this.sliderOffsetRight = f))
                    : ((i.style.right = ''.concat(c, 'px')),
                      (s.style.right = ''.concat(c, 'px')),
                      (this.sliderOffsetRight = c))
                  : ((i.style.right = '0px'),
                    (s.style.right = '0px'),
                    (this.sliderOffsetRight = 0)),
                  this.moveRightSlider((o - this.sliderOffsetRight) / o);
            }
          },
        },
        {
          key: 'addEventListener',
          value: function () {
            var e = this.sliderLeftBar,
              t = this.sliderRightBar,
              i = this;
            document.addEventListener('resize', function () {
              i.getBoundingClientRect();
            }),
              e.addEventListener(
                'touchstart',
                function (e) {
                  i.start(e, 1);
                },
                !1,
              ),
              t.addEventListener(
                'touchstart',
                function (e) {
                  i.start(e, 2);
                },
                !1,
              ),
              document.addEventListener(
                'touchmove',
                function (e) {
                  i.move(e);
                },
                !1,
              ),
              document.addEventListener(
                'touchend',
                function () {
                  i.end();
                },
                !1,
              ),
              e.addEventListener(
                'mousedown',
                function (e) {
                  i.start(e, 1);
                },
                !1,
              ),
              t.addEventListener(
                'mousedown',
                function (e) {
                  i.start(e, 2);
                },
                !1,
              ),
              document.addEventListener(
                'mousemove',
                function (e) {
                  i.move(e);
                },
                !1,
              ),
              document.addEventListener(
                'mouseup',
                function () {
                  i.end();
                },
                !1,
              );
          },
        },
        {
          key: 'getBoundingClientRect',
          value: function () {
            var e = this.el.getBoundingClientRect(),
              t = e.right,
              i = e.width;
            (this.left = e.left), (this.right = t), (this.width = i);
          },
        },
      ]) && s(t.prototype, i),
      n && s(t, n),
      e
    );
  })();
  return function (t) {
    var n = t.config,
      o = void 0 === n ? {} : n,
      s = e.useRef(null);
    return (
      e.useEffect(function () {
        new a(r(r({}, o), {}, { el: s.current }));
      }, []),
      i.default.createElement('div', { ref: s })
    );
  };
});
