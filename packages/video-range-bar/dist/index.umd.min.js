!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = t())
    : 'function' == typeof define && define.amd
    ? define(t)
    : ((e =
        'undefined' != typeof globalThis
          ? globalThis
          : e || self).videoRangeBar = t());
})(this, function () {
  'use strict';
  function e(e, t) {
    for (var i = 0; t.length > i; i++) {
      var r = t[i];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(e, r.key, r);
    }
  }
  return (
    (function (e, t) {
      void 0 === t && (t = {});
      var i = t.insertAt;
      if (e && 'undefined' != typeof document) {
        var r = document.head || document.getElementsByTagName('head')[0],
          n = document.createElement('style');
        (n.type = 'text/css'),
          'top' === i && r.firstChild
            ? r.insertBefore(n, r.firstChild)
            : r.appendChild(n),
          n.styleSheet
            ? (n.styleSheet.cssText = e)
            : n.appendChild(document.createTextNode(e));
      }
    })(
      '.video-range-bar{position:relative;width:100%}.video-range-bar .video-range-bar-left,.video-range-bar .video-range-bar-right{z-index:20;position:absolute;top:0;bottom:0;background:#2d8cf0;height:100%;cursor:ew-resize}.video-range-bar .video-range-bar-left:after,.video-range-bar .video-range-bar-left:before,.video-range-bar .video-range-bar-right:after,.video-range-bar .video-range-bar-right:before{display:inline-block;content:"";position:absolute;top:50%;transform:translateY(-50%);width:1px;height:30%;background:#fff}.video-range-bar .video-range-bar-left:before,.video-range-bar .video-range-bar-right:before{left:calc(50% - 2px)}.video-range-bar .video-range-bar-left:after,.video-range-bar .video-range-bar-right:after{left:calc(50% + 2px)}.video-range-bar .video-range-bar-right{transform:translateX(50%);border-top-right-radius:4px;border-bottom-right-radius:4px}.video-range-bar .video-range-bar-left{transform:translateX(-50%);border-top-left-radius:4px;border-bottom-left-radius:4px}.video-range-bar .video-range-bar-content{position:absolute;top:0;bottom:0;height:100%;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADBklEQVR4Xu3dW24CMRBEUVgT+18Ca0qUDyQeYiQz7dSYPvkOdnf1pcqeIHI++WmtwLl195o/AaA5BAAAQHMFmrfPAQDQXIHm7XMAADRXoHn7HAAAzRVo3j4HAEBzBZq3zwEA0FyB5u1zAAA0V6B5+xwAAM0VaN4+BwBAcwWat88BANBcgebtcwAA9FLger3+bHV8uVxavSlaNfs3eAA84g+AJzvgAF+eCByAAzgD3DEgAkTAl3v+U3siQASIABHw3vXcAr48EUSACBABIkAE3BRwDXQN/PLQdw3cHDAH4AAc4F4B18AwD7OvaauvXz2ew0XA6gOaXT8Adn5iZ/aAZq8PAACUMiACim8BHGAnn7MFXH39nfK+vJwDcIBqpvatt/o7dHb9+9R9ffWwA8xu0PrbI67WBwCLRQAAml8DAQCA0g+0iAARMHaurLag592t7xBYanEA2wZKBIgAEVD5gZDVIowDcAAOwAEGGFjN4hwCHQIfFADwIxDOAM4AA/7/D1+y5B3qQZAHQRsMVL9BRIAIEAGugQMMVFuQa9qA+BPOYCJABGQJ5ABZ/TkAB8gSyAGy+nMADpAlkANk9ecAHCBLIAfI6s8BOECWQA6Q1Z8DcIAsgRwgqz8H4ABjBM7+bX9tnK3w4/rDDjC7PADMVhgAS3/krBoPDrDYGQAAzb8gAgAAKGVABIiAUqB2L+YWsFvCoQUO5wBD1X/wy7MB+6Ck6EsAUBwB0Wl+sDkAAPABNgu/RAQc/EngbLYAAICpj4JnA1y9vjOAM0A1U8deTwSIABFwx4AIEAHHtuzq6kSACBABIuC9r/jn0dWee7D1RIAIEAEiQATcFGh3DTxYIsXLAUB8BNkCAJDVP747AOIjyBYAgKz+8d0BEB9BtgAAZPWP7w6A+AiyBQAgq398dwDER5AtAABZ/eO7AyA+gmwBAMjqH98dAPERZAsAQFb/+O4AiI8gWwAAsvrHdwdAfATZAgCQ1T++OwDiI8gWAICs/vHdARAfQbYAAGT1j+8OgPgIsgX8AkpQwK4+lS2yAAAAAElFTkSuQmCC") 50% repeat-x;box-sizing:border-box;border-top:2px solid;border-bottom:2px solid;background:transparent}',
    ),
    (function () {
      function t(e) {
        !(function (e, t) {
          if (!(e instanceof t))
            throw new TypeError('Cannot call a class as a function');
        })(this, t),
          (this.el = void 0),
          (this.background = void 0),
          (this.height = void 0),
          (this.width = 0),
          (this.left = 0),
          (this.right = 0),
          (this.sliderOffsetLeft = void 0),
          (this.sliderOffsetRight = void 0),
          (this.sliderWidth = void 0),
          (this.theme = void 0),
          (this.moveType = 0),
          (this.sliderLeftBar = void 0),
          (this.sliderRightBar = void 0),
          (this.contentBar = void 0),
          (this.startLeftSlider = void 0),
          (this.startRightSlider = void 0),
          (this.moveLeftSlider = void 0),
          (this.moveRightSlider = void 0);
        var i = e.id,
          r = e.height,
          n = void 0 === r ? 40 : r,
          o = e.sliderWidth,
          s = void 0 === o ? 14 : o,
          a = e.sliderOffsetLeft,
          d = void 0 === a ? 0 : a,
          h = e.sliderOffsetRight,
          l = void 0 === h ? 0 : h,
          f = e.theme,
          A = void 0 === f ? '#2d8cf0' : f,
          c = e.background,
          g = void 0 === c ? 'transparent' : c,
          v = e.startLeftSlider,
          u = void 0 === v ? function () {} : v,
          b = e.startRightSlider,
          p = void 0 === b ? function () {} : b,
          B = e.moveLeftSlider,
          m = void 0 === B ? function () {} : B,
          y = e.moveRightSlider,
          w = void 0 === y ? function () {} : y,
          L = e.el || (i && document.getElementById(i));
        if (!(L instanceof HTMLElement))
          throw Error(
            '[VideoRangeBar] element should be an instance of HTMLElement',
          );
        (this.el = L),
          (this.height = n),
          (this.sliderOffsetLeft = d),
          (this.sliderOffsetRight = l),
          (this.sliderWidth = s),
          (this.theme = A),
          (this.background = g),
          (this.startLeftSlider = u),
          (this.startRightSlider = p),
          (this.moveLeftSlider = m),
          (this.moveRightSlider = w),
          this.createTemplate();
        var R = L.querySelector('.video-range-bar-left'),
          x = L.querySelector('.video-range-bar-right'),
          E = L.querySelector('.video-range-bar-content');
        (this.sliderRightBar = x),
          (this.sliderLeftBar = R),
          (this.contentBar = E),
          this.addEventListener(),
          this.getBoundingClientRect();
      }
      var i, r, n;
      return (
        (i = t),
        (r = [
          {
            key: 'createTemplate',
            value: function () {
              var e = this.theme,
                t = this.sliderOffsetLeft,
                i = this.sliderOffsetRight,
                r = this.sliderWidth,
                n = this.background,
                o = this.el,
                s = '<div class="video-range-bar" style="height:'
                  .concat(this.height, 'px;background:')
                  .concat(
                    n,
                    '">\n                        <div  class="video-range-bar-left" style="left:',
                  )
                  .concat(t, 'px;width:')
                  .concat(r, 'px;background:')
                  .concat(
                    e,
                    '"></div>\n                        <div class="video-range-bar-content"  style="left:',
                  )
                  .concat(t, 'px;right: ')
                  .concat(i, 'px;border-color:')
                  .concat(
                    e,
                    '"></div>\n                        <div class="video-range-bar-right" style="right:',
                  )
                  .concat(i, 'px;width:')
                  .concat(r, 'px;background:')
                  .concat(e, '"></div>\n                      </div>');
              o.innerHTML = s;
            },
          },
          {
            key: 'start',
            value: function (e, t) {
              e.stopPropagation(), (this.moveType = t);
              var i = this.sliderOffsetLeft,
                r = this.width;
              1 != t
                ? 2 != t ||
                  this.startRightSlider((r - this.sliderOffsetRight) / r)
                : this.startLeftSlider(i / r);
            },
          },
          {
            key: 'end',
            value: function () {
              0 !== this.moveType && (this.moveType = 0);
            },
          },
          {
            key: 'move',
            value: function (e) {
              var t = 'touches' in e ? e.touches[0].clientX : e.clientX,
                i = this.sliderRightBar,
                r = this.sliderWidth,
                n = this.sliderLeftBar,
                o = this.width,
                s = this.contentBar,
                a = t - this.left,
                d = o - this.sliderOffsetRight - r / 2,
                h = this.right - t,
                l = o - this.sliderOffsetLeft - r / 2;
              switch (this.moveType) {
                case 0:
                  return;
                case 1:
                  a > 0
                    ? a > d
                      ? ((n.style.left = ''.concat(d, 'px')),
                        (s.style.left = ''.concat(d, 'px')),
                        (this.sliderOffsetLeft = d))
                      : ((n.style.left = ''.concat(a, 'px')),
                        (s.style.left = ''.concat(a, 'px')),
                        (this.sliderOffsetLeft = a))
                    : ((n.style.left = '0px'),
                      (s.style.left = '0px'),
                      (this.sliderOffsetLeft = 0)),
                    this.moveLeftSlider(this.sliderOffsetLeft / o);
                  break;
                case 2:
                  h > 0
                    ? h > l
                      ? ((i.style.right = ''.concat(l, 'px')),
                        (s.style.right = ''.concat(l, 'px')),
                        (this.sliderOffsetRight = l))
                      : ((i.style.right = ''.concat(h, 'px')),
                        (s.style.right = ''.concat(h, 'px')),
                        (this.sliderOffsetRight = h))
                    : ((i.style.right = '0px'),
                      (s.style.right = '0px'),
                      (this.sliderOffsetRight = 0)),
                    this.moveRightSlider((o - this.sliderOffsetRight) / o);
              }
            },
          },
          {
            key: 'addEventListener',
            value: function () {
              var e = this.sliderLeftBar,
                t = this.sliderRightBar,
                i = this;
              document.addEventListener('resize', function () {
                i.getBoundingClientRect();
              }),
                e.addEventListener(
                  'touchstart',
                  function (e) {
                    i.start(e, 1);
                  },
                  !1,
                ),
                t.addEventListener(
                  'touchstart',
                  function (e) {
                    i.start(e, 2);
                  },
                  !1,
                ),
                document.addEventListener(
                  'touchmove',
                  function (e) {
                    i.move(e);
                  },
                  !1,
                ),
                document.addEventListener(
                  'touchend',
                  function () {
                    i.end();
                  },
                  !1,
                ),
                e.addEventListener(
                  'mousedown',
                  function (e) {
                    i.start(e, 1);
                  },
                  !1,
                ),
                t.addEventListener(
                  'mousedown',
                  function (e) {
                    i.start(e, 2);
                  },
                  !1,
                ),
                document.addEventListener(
                  'mousemove',
                  function (e) {
                    i.move(e);
                  },
                  !1,
                ),
                document.addEventListener(
                  'mouseup',
                  function () {
                    i.end();
                  },
                  !1,
                );
            },
          },
          {
            key: 'getBoundingClientRect',
            value: function () {
              var e = this.el.getBoundingClientRect(),
                t = e.right,
                i = e.width;
              (this.left = e.left), (this.right = t), (this.width = i);
            },
          },
        ]) && e(i.prototype, r),
        n && e(i, n),
        t
      );
    })()
  );
});
